(function(t){function e(e){for(var o,c,a=e[0],r=e[1],d=e[2],u=0,p=[];u<a.length;u++)c=a[u],Object.prototype.hasOwnProperty.call(n,c)&&n[c]&&p.push(n[c][0]),n[c]=0;for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(t[o]=r[o]);l&&l(e);while(p.length)p.shift()();return s.push.apply(s,d||[]),i()}function i(){for(var t,e=0;e<s.length;e++){for(var i=s[e],o=!0,a=1;a<i.length;a++){var r=i[a];0!==n[r]&&(o=!1)}o&&(s.splice(e--,1),t=c(c.s=i[0]))}return t}var o={},n={app:0},s=[];function c(e){if(o[e])return o[e].exports;var i=o[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.m=t,c.c=o,c.d=function(t,e,i){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)c.d(i,o,function(e){return t[e]}.bind(null,o));return i},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/vue-todos-exercise/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],r=a.push.bind(a);a.push=e,a=a.slice();for(var d=0;d<a.length;d++)e(a[d]);var l=r;s.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"034f":function(t,e,i){"use strict";i("85ec")},"0916":function(t,e,i){"use strict";i("2080")},"173e":function(t,e,i){"use strict";i("62f4")},2080:function(t,e,i){},"21ae":function(t,e,i){"use strict";i("29b3")},"29b3":function(t,e,i){},"555a":function(t,e,i){"use strict";i("848a")},"56d7":function(t,e,i){"use strict";i.r(e);var o={};i.r(o),i.d(o,"getTodoList",(function(){return q})),i.d(o,"getTodoId",(function(){return z}));i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},c=[],a={name:"app"},r=a,d=(i("034f"),i("2877")),l=Object(d["a"])(r,s,c,!1,null,null,null),u=l.exports,p=i("8c4f"),f=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"container"},[i("section",{staticClass:"menu"},[i("menus")],1),i("div",{staticClass:"content-container"},[i("router-view")],1)])},h=[],m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"list-todos"},[t._l(t.todoList,(function(e,o){return i("a",{key:o,staticClass:"list-todo list activeListClass",class:{active:e.id===t.todoId},on:{click:function(i){return t.goList(e.id)}}},[e.locked?i("span",{staticClass:"icon-lock"}):t._e(),e.count>0?i("span",{staticClass:"count-list"},[t._v(t._s(e.count))]):t._e(),t._v(" "+t._s(e.title)+" ")])})),i("a",{staticClass:" link-list-new",on:{click:t.addTodoList}},[i("span",{staticClass:"icon-plus"}),t._v(" 新增 ")])],2)},v=[],k={data:function(){return{todoId:"",todoNum:0}},methods:{goList:function(t){this.todoId=t},addTodoList:function(){this.$store.commit("ADDTODO"),this.goList(this.todoList[this.todoList.length-1].id)}},watch:{todoId:function(t){this.$router.push({name:"todo",params:{id:t}})}},created:function(){this.goList(this.todoList[0].id)},computed:{todoList:function(){var t=this.$store.getters.getTodoList;return t.length<this.todoNum&&t.length&&this.goList(t[0].id),this.todoNum=t.length,t}}},g=k,C=(i("21ae"),Object(d["a"])(g,m,v,!1,null,null,null)),x=C.exports,D=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:!t.todo.isDelete,expression:"!todo.isDelete"}],staticClass:"page lists-show"},[i("nav",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isUpdate,expression:"isUpdate"}],staticClass:"form list-edit-form"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.todo.title,expression:"todo.title"}],attrs:{type:"text",disabled:t.todo.locked},domProps:{value:t.todo.title},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.updateTitle(e)},input:function(e){e.target.composing||t.$set(t.todo,"title",e.target.value)}}}),i("div",{staticClass:"nav-group right"},[i("a",{staticClass:"nav-item",on:{click:function(e){t.isUpdate=!1}}},[i("span",{staticClass:"icon-close"})])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isUpdate,expression:"!isUpdate"}],staticClass:"nav-group"},[t._m(0)]),i("h1",{directives:[{name:"show",rawName:"v-show",value:!t.isUpdate,expression:"!isUpdate"}],staticClass:"title-page",on:{click:function(e){t.isUpdate=!0}}},[i("span",{staticClass:"title-wrapper"},[t._v(t._s(t.todo.title))]),i("span",{staticClass:"count-list"},[t._v(t._s(t.todo.count||0))])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isUpdate,expression:"!isUpdate"}],staticClass:"nav-group right"},[i("div",{staticClass:"options-web"},[i("a",{staticClass:" nav-item",on:{click:t.onlock}},[t.todo.locked?i("span",{staticClass:"icon-lock"}):i("span",{staticClass:"icon-unlock"})]),i("a",{staticClass:"nav-item"},[i("span",{staticClass:"icon-trash",on:{click:t.onDelete}})])])]),i("div",{staticClass:" form todo-new input-symbol"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.text,expression:"text"}],attrs:{type:"text",placeholder:"请输入",disabled:t.todo.locked},domProps:{value:t.text},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onAdd(e)},input:function(e){e.target.composing||(t.text=e.target.value)}}}),i("span",{staticClass:"icon-add"})])]),i("div",{staticClass:"content-scrollable list-items"},t._l(t.items,(function(e,o){return i("div",[i("item",{attrs:{item:e,index:o,id:t.todo.id,init:t.init,locked:t.todo.locked}})],1)})),0)])},w=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a",{staticClass:"nav-item"},[i("span",{staticClass:"icon-list-unordered"})])}],b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{name:"slide-fade"}},[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.item.isDelete,expression:"!item.isDelete"}],staticClass:"list-item  editingClass editing ",class:{checked:t.item.checked}},[i("label",{staticClass:"checkbox"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isChecked,expression:"isChecked"}],attrs:{type:"checkbox",name:"checked",disabled:t.locked},domProps:{checked:Array.isArray(t.isChecked)?t._i(t.isChecked,null)>-1:t.isChecked},on:{change:[function(e){var i=t.isChecked,o=e.target,n=!!o.checked;if(Array.isArray(i)){var s=null,c=t._i(i,s);o.checked?c<0&&(t.isChecked=i.concat([s])):c>-1&&(t.isChecked=i.slice(0,c).concat(i.slice(c+1)))}else t.isChecked=n},t.onChange]}}),i("span",{staticClass:"checkbox-custom"})]),i("input",{directives:[{name:"model",rawName:"v-model",value:t.recordText,expression:"recordText"}],attrs:{type:"text",placeholder:"写点什么。。。",disabled:t.item.checked||t.locked},domProps:{value:t.recordText},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onChange(e)},input:function(e){e.target.composing||(t.recordText=e.target.value)}}}),t.item.checked&&!t.locked?i("a",{staticClass:"delete-item",on:{click:function(e){t.isDelete=!0,t.onChange()}}},[i("span",{staticClass:"icon-trash"})]):t._e()])])},y=[],_={props:{item:{type:Object,default:function(){return{checked:!1,text:"你好,世界",isDelete:!1}}},index:{},id:{},init:{},locked:{}},computed:{isChecked:{get:function(){return this.item.checked},set:function(t){var e={checked:t};this.$store.commit("UPDATERECORD",{id:this.id,index:this.index,record:e})}},recordText:{get:function(){return this.item.text},set:function(t){var e={text:t};this.$store.commit("UPDATERECORD",{id:this.id,index:this.index,record:e})}},isDelete:{get:function(){return this.item.isDelete},set:function(t){var e={isDelete:t};this.$store.commit("UPDATERECORD",{id:this.id,index:this.index,record:e})}}},methods:{onChange:function(){this.init()}}},O=_,T=(i("0916"),Object(d["a"])(O,b,y,!1,null,null,null)),E=T.exports,L={data:function(){return{todo:{},items:[],text:"",isUpdate:!1}},created:function(){this.init()},watch:{"$route.params.id":function(){this.init()}},components:{item:E},methods:{init:function(){var t=this.$route.params.id,e=this.$store.getters.getTodoId(t),i=e.id,o=e.title,n=e.count,s=e.isDelete,c=e.locked,a=e.record;this.todo={id:i,title:o,count:n,locked:c,isDelete:s},this.items=a},updateTodo:function(){this.$store.commit("UPDATETODE",this.todo)},onAdd:function(){var t=this.$route.params.id;this.$store.commit("ADDRECORD",{text:this.text,id:t}),this.text=""},updateTitle:function(){this.updateTodo(),this.isUpdate=!1},onDelete:function(){this.todo.isDelete=!0,this.updateTodo()},onlock:function(){this.todo.locked=!this.todo.locked,this.updateTodo()}}},$=L,R=(i("555a"),Object(d["a"])($,D,w,!1,null,null,null)),U=R.exports,P={components:{menus:x,todo:U}},j=P,A=(i("173e"),Object(d["a"])(j,f,h,!1,null,null,null)),N=A.exports;n["a"].use(p["a"]);for(var I=[{path:"/",name:"Home",component:N,children:[{path:"/todo/:id",name:"todo",component:U}]}],S=new p["a"]({routes:I}),M=S,J=(i("45fc"),i("5530")),H=i("2f62"),q=(i("4de4"),i("7db0"),i("d81d"),function(t){return t.todoList.map((function(t){return{id:t.id,title:t.title,count:t.record.filter((function(t){return!t.checked})).length,locked:t.locked,isDelete:t.isDelete,record:t.record}})).filter((function(t){return!t.isDelete}))}),z=function(t,e){return function(t){return e.getTodoList.find((function(e){if(e.id===t)return e}))}},B=i("96eb"),F=i.n(B),G=[],K=[1,2,3,4,5],Q=1;Q<=K.length;Q++)G.push(F.a.mock({id:F.a.Random.guid(),title:F.a.Random.first(),isDelete:!1,locked:F.a.Random.boolean(),record:K.map((function(){return{text:F.a.Random.cparagraph(2),isDelete:!1,checked:F.a.Random.boolean()}}))}));n["a"].use(H["a"]);var V=new H["a"].Store({strict:!0,state:{todoList:G},mutations:{EDITTODE:function(t,e){t.todoList=e},ADDTODO:function(t){t.todoList.push({id:F.a.Random.guid(),title:"newList",isDelete:!1,locked:!1,record:[]})},UPDATETODE:function(t,e){t.todoList.some((function(t,i){if(t.id==e.id)return t.title=e.title,t.locked=e.locked,t.isDelete=e.isDelete,!0}))},ADDRECORD:function(t,e){var i=e.id,o=e.text;t.todoList.some((function(t,e){if(t.id===i)return t.record.push({text:o,isDelete:!1,checked:!1}),!0}))},UPDATERECORD:function(t,e){var i=e.id,o=e.index,n=e.record;t.todoList.some((function(t){if(t.id===i)return t.record[o]=Object(J["a"])({},n),!0}))}},getters:o,actions:{},modules:{}});n["a"].config.productionTip=!1,new n["a"]({router:M,store:V,render:function(t){return t(u)}}).$mount("#app")},"62f4":function(t,e,i){},"848a":function(t,e,i){},"85ec":function(t,e,i){}});
//# sourceMappingURL=app.fa4daa7e.js.map